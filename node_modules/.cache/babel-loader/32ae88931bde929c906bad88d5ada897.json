{"ast":null,"code":"import _slicedToArray from\"/Users/lasimonne/Projects/syked.xyz copy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable no-unused-vars */ /* eslint-disable camelcase */import React,{useState,useEffect}from'react';import{compose}from'redux';import{connect}from'react-redux';import{Form,Field}from'react-final-form';import{Modal}from'react-bootstrap';import FormStateToRedux from'common/util/FormStateToRedux';import convertToArray from'common/util/convertToArray';import Wizard from'components/AssessmentWizard';import{composeValidators,required,mustBeEmail}from'common/util/Validation';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var assessments=[{id:38,category:'Depression',question:'The PHQ-9 is a multipurpose instrument for screening, monitoring and measuring the severity of depressive symptoms. This easy to use patient questionnaire is a self-administered version.  Disclaimer: This is not a diagnostic tool for depression but it is used to monitor the severity of depressive symptoms.                                                                                                                                                                Over the last 2 weeks, how often have you been bothered by the following problems?',question_type:'radio',options:[{0:{option:'Accept',score:'0'}}]},{id:37,category:'Anxiety',question:'Generalised Anxiety Disorder Questionnaire (GAD-7)  This is an easy-to-use self-administered client questionnaire that is used as a screening tool and severity measure for anxiety symptoms. Disclaimer: This is not a diagnostic tool for anxiety but it is used to monitor the severity of anxiety symptoms.            Over the last 2 weeks, how often have you been bothered  by any of the following problems?',question_type:'radio',options:[{0:{option:'Accept',score:'0'}}]},{id:36,category:'Depression',question:'How difficult have these problems made it to do work, take care of things at home, or get along with other people?',question_type:'radio',options:[{0:{option:'Not at all',score:'0'},1:{option:'Somewhat difficult',score:'0'},2:{option:'Very difficult',score:'0'},3:{option:'Extremely difficult',score:'0'}}]},{id:35,category:'Depression',question:'Thoughts that you would be better off dead, or thoughts of hurting yourself in some way?',question_type:'radio',options:[{0:{option:'Not at all',score:'0'},1:{option:'Several days',score:'1'},2:{option:'More than half the days',score:'2'},3:{option:'Nearly every day',score:'3'}}]},{id:34,category:'Depression',question:'Moving or speaking so slowly that other people could have noticed? Or so fidgety or restless that you have been moving a lot more than usual?',question_type:'radio',options:[{0:{option:'Not at all',score:'0'},1:{option:'Several days',score:'1'},2:{option:'More than half the days',score:'2'},3:{option:'Nearly every day',score:'3'}}]},{id:33,category:'Depression',question:'Trouble concentrating on things, such as reading the newspaper or watching television?',question_type:'radio',options:[{0:{option:'Not at all',score:'0'},1:{option:'Several days',score:'1'},2:{option:'More than half the days',score:'2'},3:{option:'Nearly every day',score:'3'}}]},{id:32,category:'Depression',question:'Feeling bad about yourself â€” or that you are a failure or have let yourself or your family down?',question_type:'radio',options:[{0:{option:'Not at all',score:'0'},1:{option:'Several days',score:'1'},2:{option:'More than half the days',score:'2'},3:{option:'Nearly every day',score:'3'}}]},{id:31,category:'Depression',question:'Poor appetite or overeating?',question_type:'radio',options:[{0:{option:'Not at all',score:'0'},1:{option:'Several days',score:'1'},2:{option:'More than half the days',score:'2'},3:{option:'Nearly every day',score:'3'}}]},{id:30,category:'Depression',question:'Feeling tired or having little energy?',question_type:'radio',options:[{0:{option:'Not at all',score:'0'},1:{option:'Several days',score:'1'},2:{option:'More than half the days',score:'2'},3:{option:'Nearly every day',score:'3'}}]},{id:29,category:'Depression',question:'Trouble falling or staying asleep, or sleeping too much?',question_type:'radio',options:[{0:{option:'Not at all',score:'0'},1:{option:'Several days',score:'1'},2:{option:'More than half the days',score:'2'},3:{option:'Nearly every day',score:'3'}}]},{id:28,category:'Depression',question:'Feeling down, depressed, or hopeless?',question_type:'radio',options:[{0:{option:'Not at all',score:'0'},1:{option:'Several days',score:'1'},2:{option:'More than half the days',score:'2'},3:{option:'Nearly every day',score:'3'}}]},{id:26,category:'Anxiety',question:'Feeling afraid as if something awful might happen',question_type:'radio',options:[{0:{option:'Not at all',score:'0'},1:{option:'Several days',score:'1'},2:{option:'More than half the days',score:'2'},3:{option:'Nearly every day',score:'3'}}]},{id:25,category:'Anxiety',question:'Becoming easily annoyed or irritable',question_type:'radio',options:[{0:{option:'Not at all',score:'0'},1:{option:'Several days',score:'1'},2:{option:'More than half the days',score:'2'},3:{option:'Nearly every day',score:'3'}}]},{id:23,category:'Anxiety',question:\"Being so restless that it's hard to sit still\",question_type:'radio',options:[{0:{option:'Not at all',score:'0'},1:{option:'Several days',score:'1'},2:{option:'More than half the days',score:'2'},3:{option:'Nearly every day',score:'3'}}]},{id:22,category:'Anxiety',question:'Trouble relaxing',question_type:'radio',options:[{0:{option:'Not at all',score:'0'},1:{option:'Several days',score:'1'},2:{option:'More than half the days',score:'2'},3:{option:'Nearly every day',score:'3'}}]},{id:21,category:'Anxiety',question:'Worrying too much about different things',question_type:'radio',options:[{0:{option:'Not at all',score:'0'},1:{option:'Several days',score:'1'},2:{option:'More than half the days',score:'2'},3:{option:'Nearly every day',score:'3'}}]},{id:20,category:'Anxiety',question:'Not being able to stop or control worrying',question_type:'radio',options:[{0:{option:'Not at all',score:'0'},1:{option:'Several days',score:'1'},2:{option:'More than half the days',score:'2'},3:{option:'Nearly every day',score:'3'}}]},{id:19,category:'Anxiety',question:'Feeling nervous, anxious, or on edge',question_type:'radio',options:[{0:{option:'Not at all',score:'0'},1:{option:'Several Days',score:'1'},2:{option:'More than half the days',score:'2'},3:{option:'Nearly every day',score:'3'}}]},{id:17,category:'Depression',question:'Little interest or pleasure in doing things?',question_type:'radio',options:[{0:{option:' Not at all',score:'0'},1:{option:'Several days',score:'1'},2:{option:'More than half the days',score:'2'},3:{option:'Nearly every day',score:'3'}}]}];var categories=[];assessments.forEach(function(b){if(!categories.includes(b.category)){categories.push(b.category);}});// eslint-disable-next-line react/prop-types\nvar Error=function Error(_ref){var name=_ref.name;return/*#__PURE__*/_jsx(Field,{name:name,subscription:{touched:true,error:true},render:function render(_ref2){var _ref2$meta=_ref2.meta,touched=_ref2$meta.touched,error=_ref2$meta.error;return touched&&error?/*#__PURE__*/_jsx(\"div\",{className:\"text-danger mb-2\",children:error}):null;}});};var QuestionSet=function QuestionSet(_ref3){var question=_ref3.question;var question_type=question.question_type,options=question.options,id=question.id;switch(question_type){case'text':return/*#__PURE__*/_jsx(_Fragment,{});case'radio':return/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 my-radio\",children:/*#__PURE__*/_jsx(\"div\",{htmlFor:\"let obj of convertArray(index.options)\",children:convertToArray(options).map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 mb-3 my-radio\",children:[/*#__PURE__*/_jsx(Field,{name:\"question\".concat(id),id:item.option,component:\"input\",className:\"form-check-input\",type:\"radio\",value:item.score}),/*#__PURE__*/_jsx(\"label\",{htmlFor:item.option,className:\"form-check-label\",children:item.option}),/*#__PURE__*/_jsx(\"span\",{className:\"check\"})]},item.option);})})});case'select':return/*#__PURE__*/_jsx(_Fragment,{});case'checkbox':return/*#__PURE__*/_jsx(_Fragment,{});default:return/*#__PURE__*/_jsx(_Fragment,{});}};function Assessment(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),selectedTopic=_useState2[0],setTopic=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),questions=_useState4[0],setQuestions=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],setShow=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),totalScore=_useState8[0],setTotalScore=_useState8[1];useEffect(function(){var items=assessments.filter(function(item){return item.category===selectedTopic;});setQuestions(items);},[selectedTopic]);var onChangeCategory=function onChangeCategory(e){setTopic(e.target.value);};var onSubmit=function onSubmit(values){var score=Object.keys(values).map(function(index){return parseInt(values[index],10);});setTotalScore(score.reduce(function(accumulator,prod){return accumulator+prod;},0));setShow(true);};var onSubmitReport=function onSubmitReport(_ref4){var email=_ref4.email;var report={category:selectedTopic,email:email,question_answer:JSON.stringify(questions),score:totalScore};// console.log(report);\n};var handleClose=function handleClose(){setShow(false);setTopic('');setQuestions([]);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Modal,{backdrop:\"static\",keyboard:false,show:show,onHide:handleClose,children:/*#__PURE__*/_jsx(Form,{onSubmit:onSubmitReport,render:function render(_ref5){var handleSubmit=_ref5.handleSubmit,submitting=_ref5.submitting,pristine=_ref5.pristine;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(FormStateToRedux,{form:\"ASSESSMENT_REPORT_FORM\"}),/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:/*#__PURE__*/_jsx(\"h4\",{className:\"modal-title pull-left\",children:\"Send Assessment Report\"})})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(Field,{component:\"input\",className:\"form-control\",name:\"email\",placeholder:\"Enter email here...\",required:true,validate:composeValidators(required,mustBeEmail),pattern:\"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-z]{2,8}$\"})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn mr-2 btn-theme\",disabled:submitting||pristine,children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",onClick:handleClose,children:\"close\"})]})]});}})}),/*#__PURE__*/_jsx(\"div\",{className:\" inner_page mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form therpist_form\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h5\",{className:\"d-flex justify-content-between mb-3 pb-3 border-bottom text-uppercase\",children:\"Assessment\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"select\",{value:selectedTopic,className:\"form-control\",onChange:onChangeCategory,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\" -- Select Topic -- \"}),categories.map(function(category){return/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category);})]})}),questions.length?/*#__PURE__*/_jsx(Wizard,{onSubmit:onSubmit,children:questions.map(function(item){return/*#__PURE__*/_jsxs(Wizard.Page,{validate:function validate(values){var errors={};if(!values[\"question\".concat(item.id)]){errors[\"question\".concat(item.id)]='This question is mandatory';}return errors;},children:[/*#__PURE__*/_jsx(\"h5\",{className:\"pt-4\",children:item.question}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(QuestionSet,{question:item}),/*#__PURE__*/_jsx(Error,{name:\"question\".concat(item.id)})]}),/*#__PURE__*/_jsx(FormStateToRedux,{form:\"ASSESSMENT_FORM\"})]},item.id);})}):null]})})]});}function mapDispatchToProps(dispatch){return{dispatch:dispatch// getQuestions: () => dispatch(getQuestionsAction()),\n};}var withConnect=connect(null,mapDispatchToProps);export default compose(withConnect)(Assessment);","map":{"version":3,"sources":["/Users/lasimonne/Projects/syked.xyz copy/src/containers/Account/Assessment/Assessment.js"],"names":["React","useState","useEffect","compose","connect","Form","Field","Modal","FormStateToRedux","convertToArray","Wizard","composeValidators","required","mustBeEmail","assessments","id","category","question","question_type","options","option","score","categories","forEach","b","includes","push","Error","name","touched","error","meta","QuestionSet","map","item","Assessment","selectedTopic","setTopic","questions","setQuestions","show","setShow","totalScore","setTotalScore","items","filter","onChangeCategory","e","target","value","onSubmit","values","Object","keys","index","parseInt","reduce","accumulator","prod","onSubmitReport","email","report","question_answer","JSON","stringify","handleClose","handleSubmit","submitting","pristine","length","errors","mapDispatchToProps","dispatch","withConnect"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\n/* eslint-disable camelcase */\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { Form, Field } from 'react-final-form';\nimport { Modal } from 'react-bootstrap';\nimport FormStateToRedux from 'common/util/FormStateToRedux';\nimport convertToArray from 'common/util/convertToArray';\nimport Wizard from 'components/AssessmentWizard';\nimport { composeValidators, required, mustBeEmail } from 'common/util/Validation';\n\nconst assessments = [\n  {\n    id: 38,\n    category: 'Depression',\n    question:\n      'The PHQ-9 is a multipurpose instrument for screening, monitoring and measuring the severity of depressive symptoms. This easy to use patient questionnaire is a self-administered version.  Disclaimer: This is not a diagnostic tool for depression but it is used to monitor the severity of depressive symptoms.                                                                                                                                                                Over the last 2 weeks, how often have you been bothered by the following problems?',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Accept',\n          score: '0',\n        },\n      },\n    ],\n  },\n  {\n    id: 37,\n    category: 'Anxiety',\n    question:\n      'Generalised Anxiety Disorder Questionnaire (GAD-7)  This is an easy-to-use self-administered client questionnaire that is used as a screening tool and severity measure for anxiety symptoms. Disclaimer: This is not a diagnostic tool for anxiety but it is used to monitor the severity of anxiety symptoms.            Over the last 2 weeks, how often have you been bothered  by any of the following problems?',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Accept',\n          score: '0',\n        },\n      },\n    ],\n  },\n  {\n    id: 36,\n    category: 'Depression',\n    question:\n      'How difficult have these problems made it to do work, take care of things at home, or get along with other people?',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Not at all',\n          score: '0',\n        },\n        1: {\n          option: 'Somewhat difficult',\n          score: '0',\n        },\n        2: {\n          option: 'Very difficult',\n          score: '0',\n        },\n        3: {\n          option: 'Extremely difficult',\n          score: '0',\n        },\n      },\n    ],\n  },\n  {\n    id: 35,\n    category: 'Depression',\n    question:\n      'Thoughts that you would be better off dead, or thoughts of hurting yourself in some way?',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Not at all',\n          score: '0',\n        },\n        1: {\n          option: 'Several days',\n          score: '1',\n        },\n        2: {\n          option: 'More than half the days',\n          score: '2',\n        },\n        3: {\n          option: 'Nearly every day',\n          score: '3',\n        },\n      },\n    ],\n  },\n  {\n    id: 34,\n    category: 'Depression',\n    question:\n      'Moving or speaking so slowly that other people could have noticed? Or so fidgety or restless that you have been moving a lot more than usual?',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Not at all',\n          score: '0',\n        },\n        1: {\n          option: 'Several days',\n          score: '1',\n        },\n        2: {\n          option: 'More than half the days',\n          score: '2',\n        },\n        3: {\n          option: 'Nearly every day',\n          score: '3',\n        },\n      },\n    ],\n  },\n  {\n    id: 33,\n    category: 'Depression',\n    question:\n      'Trouble concentrating on things, such as reading the newspaper or watching television?',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Not at all',\n          score: '0',\n        },\n        1: {\n          option: 'Several days',\n          score: '1',\n        },\n        2: {\n          option: 'More than half the days',\n          score: '2',\n        },\n        3: {\n          option: 'Nearly every day',\n          score: '3',\n        },\n      },\n    ],\n  },\n  {\n    id: 32,\n    category: 'Depression',\n    question:\n      'Feeling bad about yourself â€” or that you are a failure or have let yourself or your family down?',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Not at all',\n          score: '0',\n        },\n        1: {\n          option: 'Several days',\n          score: '1',\n        },\n        2: {\n          option: 'More than half the days',\n          score: '2',\n        },\n        3: {\n          option: 'Nearly every day',\n          score: '3',\n        },\n      },\n    ],\n  },\n  {\n    id: 31,\n    category: 'Depression',\n    question: 'Poor appetite or overeating?',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Not at all',\n          score: '0',\n        },\n        1: {\n          option: 'Several days',\n          score: '1',\n        },\n        2: {\n          option: 'More than half the days',\n          score: '2',\n        },\n        3: {\n          option: 'Nearly every day',\n          score: '3',\n        },\n      },\n    ],\n  },\n  {\n    id: 30,\n    category: 'Depression',\n    question: 'Feeling tired or having little energy?',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Not at all',\n          score: '0',\n        },\n        1: {\n          option: 'Several days',\n          score: '1',\n        },\n        2: {\n          option: 'More than half the days',\n          score: '2',\n        },\n        3: {\n          option: 'Nearly every day',\n          score: '3',\n        },\n      },\n    ],\n  },\n  {\n    id: 29,\n    category: 'Depression',\n    question: 'Trouble falling or staying asleep, or sleeping too much?',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Not at all',\n          score: '0',\n        },\n        1: {\n          option: 'Several days',\n          score: '1',\n        },\n        2: {\n          option: 'More than half the days',\n          score: '2',\n        },\n        3: {\n          option: 'Nearly every day',\n          score: '3',\n        },\n      },\n    ],\n  },\n  {\n    id: 28,\n    category: 'Depression',\n    question: 'Feeling down, depressed, or hopeless?',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Not at all',\n          score: '0',\n        },\n        1: {\n          option: 'Several days',\n          score: '1',\n        },\n        2: {\n          option: 'More than half the days',\n          score: '2',\n        },\n        3: {\n          option: 'Nearly every day',\n          score: '3',\n        },\n      },\n    ],\n  },\n  {\n    id: 26,\n    category: 'Anxiety',\n    question: 'Feeling afraid as if something awful might happen',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Not at all',\n          score: '0',\n        },\n        1: {\n          option: 'Several days',\n          score: '1',\n        },\n        2: {\n          option: 'More than half the days',\n          score: '2',\n        },\n        3: {\n          option: 'Nearly every day',\n          score: '3',\n        },\n      },\n    ],\n  },\n  {\n    id: 25,\n    category: 'Anxiety',\n    question: 'Becoming easily annoyed or irritable',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Not at all',\n          score: '0',\n        },\n        1: {\n          option: 'Several days',\n          score: '1',\n        },\n        2: {\n          option: 'More than half the days',\n          score: '2',\n        },\n        3: {\n          option: 'Nearly every day',\n          score: '3',\n        },\n      },\n    ],\n  },\n  {\n    id: 23,\n    category: 'Anxiety',\n    question: \"Being so restless that it's hard to sit still\",\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Not at all',\n          score: '0',\n        },\n        1: {\n          option: 'Several days',\n          score: '1',\n        },\n        2: {\n          option: 'More than half the days',\n          score: '2',\n        },\n        3: {\n          option: 'Nearly every day',\n          score: '3',\n        },\n      },\n    ],\n  },\n  {\n    id: 22,\n    category: 'Anxiety',\n    question: 'Trouble relaxing',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Not at all',\n          score: '0',\n        },\n        1: {\n          option: 'Several days',\n          score: '1',\n        },\n        2: {\n          option: 'More than half the days',\n          score: '2',\n        },\n        3: {\n          option: 'Nearly every day',\n          score: '3',\n        },\n      },\n    ],\n  },\n  {\n    id: 21,\n    category: 'Anxiety',\n    question: 'Worrying too much about different things',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Not at all',\n          score: '0',\n        },\n        1: {\n          option: 'Several days',\n          score: '1',\n        },\n        2: {\n          option: 'More than half the days',\n          score: '2',\n        },\n        3: {\n          option: 'Nearly every day',\n          score: '3',\n        },\n      },\n    ],\n  },\n  {\n    id: 20,\n    category: 'Anxiety',\n    question: 'Not being able to stop or control worrying',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Not at all',\n          score: '0',\n        },\n        1: {\n          option: 'Several days',\n          score: '1',\n        },\n        2: {\n          option: 'More than half the days',\n          score: '2',\n        },\n        3: {\n          option: 'Nearly every day',\n          score: '3',\n        },\n      },\n    ],\n  },\n  {\n    id: 19,\n    category: 'Anxiety',\n    question: 'Feeling nervous, anxious, or on edge',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: 'Not at all',\n          score: '0',\n        },\n        1: {\n          option: 'Several Days',\n          score: '1',\n        },\n        2: {\n          option: 'More than half the days',\n          score: '2',\n        },\n        3: {\n          option: 'Nearly every day',\n          score: '3',\n        },\n      },\n    ],\n  },\n  {\n    id: 17,\n    category: 'Depression',\n    question: 'Little interest or pleasure in doing things?',\n    question_type: 'radio',\n    options: [\n      {\n        0: {\n          option: ' Not at all',\n          score: '0',\n        },\n        1: {\n          option: 'Several days',\n          score: '1',\n        },\n        2: {\n          option: 'More than half the days',\n          score: '2',\n        },\n        3: {\n          option: 'Nearly every day',\n          score: '3',\n        },\n      },\n    ],\n  },\n];\n\nconst categories = [];\nassessments.forEach((b) => {\n  if (!categories.includes(b.category)) {\n    categories.push(b.category);\n  }\n});\n\n// eslint-disable-next-line react/prop-types\nconst Error = ({ name }) => (\n  <Field\n    name={name}\n    subscription={{ touched: true, error: true }}\n    render={({ meta: { touched, error } }) =>\n      touched && error ? <div className=\"text-danger mb-2\">{error}</div> : null\n    }\n  />\n);\n\nconst QuestionSet = ({ question }) => {\n  const { question_type, options, id } = question;\n\n  switch (question_type) {\n    case 'text':\n      return <></>;\n    case 'radio':\n      return (\n        <div className=\"mt-3 my-radio\">\n          <div htmlFor=\"let obj of convertArray(index.options)\">\n            {convertToArray(options).map((item) => (\n              <div className=\"mt-3 mb-3 my-radio\" key={item.option}>\n                <Field\n                  name={`question${id}`}\n                  id={item.option}\n                  component=\"input\"\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  value={item.score}\n                />\n                <label htmlFor={item.option} className=\"form-check-label\">\n                  {item.option}\n                </label>\n                <span className=\"check\"></span>\n              </div>\n            ))}\n          </div>\n        </div>\n      );\n    case 'select':\n      return <></>;\n    case 'checkbox':\n      return <></>;\n    default:\n      return <></>;\n  }\n};\n\nfunction Assessment() {\n  const [selectedTopic, setTopic] = useState('');\n  const [questions, setQuestions] = useState([]);\n  const [show, setShow] = useState(false);\n  const [totalScore, setTotalScore] = useState(0);\n\n  useEffect(() => {\n    const items = assessments.filter((item) => item.category === selectedTopic);\n    setQuestions(items);\n  }, [selectedTopic]);\n\n  const onChangeCategory = (e) => {\n    setTopic(e.target.value);\n  };\n\n  const onSubmit = (values) => {\n    const score = Object.keys(values).map((index) => parseInt(values[index], 10));\n    setTotalScore(score.reduce((accumulator, prod) => accumulator + prod, 0));\n    setShow(true);\n  };\n\n  const onSubmitReport = ({ email }) => {\n    const report = {\n      category: selectedTopic,\n      email,\n      question_answer: JSON.stringify(questions),\n      score: totalScore,\n    };\n    // console.log(report);\n  };\n\n  const handleClose = () => {\n    setShow(false);\n    setTopic('');\n    setQuestions([]);\n  };\n\n  return (\n    <>\n      {/* <div className=\"loader\">\n        <img src=\"assets/img/loader.svg\" alt=\"loader\" />\n      </div> */}\n      <Modal backdrop=\"static\" keyboard={false} show={show} onHide={handleClose}>\n        <Form\n          onSubmit={onSubmitReport}\n          render={({ handleSubmit, submitting, pristine }) => (\n            <form onSubmit={handleSubmit}>\n              <FormStateToRedux form=\"ASSESSMENT_REPORT_FORM\" />\n              <Modal.Header closeButton>\n                <Modal.Title>\n                  <h4 className=\"modal-title pull-left\">Send Assessment Report</h4>\n                </Modal.Title>\n              </Modal.Header>\n              <Modal.Body>\n                <Field\n                  component=\"input\"\n                  className=\"form-control\"\n                  name=\"email\"\n                  placeholder=\"Enter email here...\"\n                  required\n                  validate={composeValidators(required, mustBeEmail)}\n                  pattern=\"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-z]{2,8}$\"\n                />\n              </Modal.Body>\n              <Modal.Footer>\n                <button\n                  type=\"submit\"\n                  className=\"btn mr-2 btn-theme\"\n                  disabled={submitting || pristine}>\n                  Submit\n                </button>\n                <button type=\"button\" className=\"btn btn-danger\" onClick={handleClose}>\n                  close\n                </button>\n              </Modal.Footer>\n            </form>\n          )}\n        />\n      </Modal>\n\n      <div className=\" inner_page mb-3\">\n        <div className=\"form therpist_form\">\n          <div>\n            <h5 className=\"d-flex justify-content-between mb-3 pb-3 border-bottom text-uppercase\">\n              Assessment\n            </h5>\n          </div>\n          <div className=\"form-group\">\n            <select value={selectedTopic} className=\"form-control\" onChange={onChangeCategory}>\n              <option value=\"\"> -- Select Topic -- </option>\n              {categories.map((category) => (\n                <option key={category} value={category}>\n                  {category}\n                </option>\n              ))}\n            </select>\n          </div>\n          {questions.length ? (\n            <Wizard onSubmit={onSubmit}>\n              {questions.map((item) => (\n                <Wizard.Page\n                  key={item.id}\n                  validate={(values) => {\n                    const errors = {};\n                    if (!values[`question${item.id}`]) {\n                      errors[`question${item.id}`] = 'This question is mandatory';\n                    }\n                    return errors;\n                  }}>\n                  <h5 className=\"pt-4\">{item.question}</h5>\n                  <div>\n                    <QuestionSet question={item} />\n                    <Error name={`question${item.id}`} />\n                  </div>\n                  <FormStateToRedux form=\"ASSESSMENT_FORM\" />\n                </Wizard.Page>\n              ))}\n            </Wizard>\n          ) : null}\n        </div>\n      </div>\n    </>\n  );\n}\n\nAssessment.propTypes = {\n  // getQuestions: PropTypes.func,\n};\n\nQuestionSet.propTypes = {\n  question: PropTypes.object,\n};\n\nError.propTypes = {\n  name: PropTypes.string,\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatch,\n    // getQuestions: () => dispatch(getQuestionsAction()),\n  };\n}\n\nconst withConnect = connect(null, mapDispatchToProps);\n\nexport default compose(withConnect)(Assessment);\n"]},"metadata":{},"sourceType":"module"}