{"ast":null,"code":"import _slicedToArray from\"/Users/lasimonne/Projects/syked.xyz copy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef}from'react';import{useSelector}from'react-redux';import axios from'axios';// import { Form, Field } from 'react-final-form';\nimport{selectIsAuthenticated}from'containers/Auth/authSlice';import{Link}from'react-router-dom';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faMapMarker,faVideo,faMale,faClock,faFemale,faCalendar}from'@fortawesome/free-solid-svg-icons';import Header from'components/Header';import Footer from'components/Footer';import*as ROUTES from'common/constants';import'./Order.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function OrderPayment(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showPromo=_useState2[0],setShowPromo=_useState2[1];var isAuthenticated=useSelector(selectIsAuthenticated);var returnUrl=\"http://192.168.43.161:4200/order/success/1234\";var cancelUrl=\"http://192.168.43.161:4200/order/cancel/1234\";var notifyUrl=\"http://192.168.43.161:4200/order/notify/1234\";var payfastForm=useRef(null);// eslint-disable-next-line no-unused-vars\nvar onPayOrder=function onPayOrder(){// createOrder\n// API: /order/create\n// Payload\n// eslint-disable-next-line no-unused-vars\nvar payload={therapist_id:189,schedule_date:'2021-10-21T16:00:00.000Z',therapy_type:'clinical_psychologist',question_answer:'[{\"id\":31,\"question\":\"Worry that things always go wrong in your life\",\"answer\":\"Most of the time\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":35,\"question\":\"Having little or no interest doing things I am used to doing\",\"answer\":\" ALL THE TIME\",\"options\":\"\",\"score\":\"3\",\"question_type\":\"radio\"},{\"id\":38,\"question\":\"Feeling sad, depressed, or worthless\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":43,\"question\":\"Unable to relax even when you are not doing anything\",\"answer\":\" ALL THE TIME\",\"options\":\"\",\"score\":\"3\",\"question_type\":\"radio\"},{\"id\":47,\"question\":\"Feeling exhausted or having little or no energy\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":51,\"question\":\"Worry about your safety\",\"answer\":\"SOMETIMES\",\"options\":\"\",\"score\":\"1\",\"question_type\":\"radio\"},{\"id\":55,\"question\":\"Struggling to fall asleep/ staying asleep/  or oversleeping\",\"answer\":\"SOMETIMES\",\"options\":\"\",\"score\":\"1\",\"question_type\":\"radio\"},{\"id\":59,\"question\":\"Extremely happy mood for no particular reason\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":63,\"question\":\"Thoughts that the world would be better off with you dead or thoughts of  hurting yourself in some way\",\"answer\":\"SOMETIMES\",\"options\":\"\",\"score\":\"1\",\"question_type\":\"radio\"},{\"id\":67,\"question\":\"Fear of being in public spaces\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":71,\"question\":\"No motivation when doing things and being slow than usual\",\"answer\":\"SOMETIMES\",\"options\":\"\",\"score\":\"1\",\"question_type\":\"radio\"},{\"id\":75,\"question\":\"When stressed struggling to breathe/experiencing dizziness/ headache/ rapid heartbeat/ sweating/ chest pain\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":79,\"question\":\"No desire to eat or eating more than normal  \",\"answer\":\"SOMETIMES\",\"options\":\"\",\"score\":\"1\",\"question_type\":\"radio\"},{\"id\":83,\"question\":\"Feeling that you are not good enough and are destined to experience bad things \",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":87,\"question\":\"Struggling to focus on tasks\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":91,\"question\":\"Being easily short-tempered and agitated\",\"answer\":\"SOMETIMES\",\"options\":\"\",\"score\":\"1\",\"question_type\":\"radio\"},{\"id\":94,\"question\":\"Excessive fear of dying\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":99,\"question\":\"Being forgetful about normal routine stuff\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":103,\"question\":\"Uncontrollable worry\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":107,\"question\":\"Wanting to always be alone and avoiding loved ones\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":111,\"question\":\"Constant thoughts/ flashbacks of an experienced/witnessed trauma\",\"answer\":\"SOMETIMES\",\"options\":\"\",\"score\":\"1\",\"question_type\":\"radio\"},{\"id\":114,\"question\":\"Avoiding reminders of the traumatic experience\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":119,\"question\":\"Use of substances more than usual\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":122,\"question\":\"Having excess energy and doing many things at once\",\"answer\":\" ALL THE TIME\",\"options\":\"\",\"score\":\"3\",\"question_type\":\"radio\"},{\"id\":127,\"question\":\"Engaging in reckless behavior e.g. more casual sexual relationships, irresponsible spending\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":130,\"question\":\"Family members express worry about your emotional/ mental health\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"}]',score:48,price:699,total_amount:699,timeoffset:120,promo_code:'',discount_promo_code:0,group_code_applied:false,referral_discount_amount:0,referral_code:'',is_my_code:''};// if user has promo go to success else create order and redirect to payfast\nvar bodyFormData=new FormData();bodyFormData.append('merchant_id','10000100');bodyFormData.append('merchant_key','46f0cd694581a');bodyFormData.append('amount','100.00');bodyFormData.append('item_name','Test Product');axios({method:'post',url:'https://sandbox.payfast.co.za​/eng/process',data:bodyFormData,headers:{'Content-Type':'multipart/form-data'}}).then(function(response){// handle success\n// eslint-disable-next-line no-console\nconsole.log(response);}).catch(function(response){// handle error\n// eslint-disable-next-line no-console\nconsole.log(response);});};var onOpenPromoCode=function onOpenPromoCode(){setShowPromo(true);};var onClosePromoCode=function onClosePromoCode(){setShowPromo(false);};var onApplyPromo=function onApplyPromo(){// order/apply-promo\n};var onCancelOrder=function onCancelOrder(){};var onCreateOrder=function onCreateOrder(){payfastForm.current.submit();// console.log();\n};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{isAuthenticated:isAuthenticated}),/*#__PURE__*/_jsx(\"section\",{className:\"confirmation f7-gray\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-12 col-md-12 col-lg-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"confirms_trust\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"TRUST & SAFETY GUARANTEE\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center pb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Pay now to confirm your booking\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Thank you for trusting Syked to help you through this period, with us you'll be\\n                  back to feeling Syked on life in no time\"})]})]})})})}),/*#__PURE__*/_jsx(\"section\",{className:\"request f7-gray\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-12 col-lg-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"my_request p-3 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-sm-flex pt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pro-img\",children:/*#__PURE__*/_jsx(\"img\",{src:\"assets/img/user.png\",alt:\"profile\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-3 pt-sm-0 pl-sm-4 w-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-sm-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Mohube Maswi\"}),/*#__PURE__*/_jsx(\"h6\",{children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"b\",{children:\"Social Worker\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"location\",children:/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faMapMarker})})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-3\",children:\"about_me\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"mb-3\",children:\"Appointment \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row m-0 justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0 pr-2\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"mr-2\",icon:faVideo}),/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-video-camera mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"General\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0 pr-2\",if:\"therapy_type == 'teen_counseling'\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"mr-2\",icon:faMale}),/*#__PURE__*/_jsx(\"span\",{children:\" Students\"})]}),/*#__PURE__*/_jsxs(\"p\",{if:\"therapy_type == 'online_therapy'\",className:\"mb-0 pr-2 therapist_type_img\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"mr-2\",icon:faMale}),/*#__PURE__*/_jsx(\"span\",{children:\"Individuals\"})]}),/*#__PURE__*/_jsxs(\"p\",{if:\"therapy_type == 'marriage_counseling'\",className:\"mb-0 pr-2 therapist_type_img\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faMale}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faFemale}),/*#__PURE__*/_jsx(\"span\",{children:\"Couples\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0 pr-2\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"mr-2\",icon:faCalendar}),/*#__PURE__*/_jsx(\"span\",{children:\"schedule_time\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0 pr-2\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"mr-2\",icon:faClock}),/*#__PURE__*/_jsx(\"span\",{children:\"schedule_time\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:/*#__PURE__*/_jsxs(\"span\",{if:\"is_group_code_applied == false\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"R\"}),\" 600\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:ROUTES.THERAPIST_LIST_PAGE,type:\"button\",className:\"p-0 btn btn-edit\",children:\"Edit\"})})]}),showPromo?/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 mb-0 promo_form\",children:[/*#__PURE__*/_jsx(\"div\",{if:\"show_promo_code == 'yes'\",className:\"mt-2\",children:/*#__PURE__*/_jsxs(\"form\",{className:\" ng-pristine ng-valid d-md-flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-0\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",required:true,placeholder:\"Enter Promo Code\",name:\"promo_code\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{if:\"promoForm.submitted && PromoCode.errors\",className:\"mb-2 text-danger\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Promo Code is required.\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 mt-md-0\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onApplyPromo,type:\"submit\",className:\"btn btn-theme\",children:\"Apply\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClosePromoCode,type:\"button\",className:\"cancel_btn btn\",children:\"Cancel\"})]})]})}),/*#__PURE__*/_jsx(\"p\",{if:\"show_promo_message == 'yes'\",className:\"text-success\",children:\"promo_message\"})]}):null]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"payment\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 mb-4\",children:/*#__PURE__*/_jsxs(\"form\",{ref:payfastForm,action:\"https://sandbox.payfast.co.za\\u200B/eng/process\",method:\"post\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"merchant_id\",value:\"10000100\"}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"merchant_key\",value:\"46f0cd694581a\"}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"amount\",value:\"100.00\"}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"item_name\",value:\"Test Product\"}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"return_url\",value:returnUrl}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"cancel_url\",value:cancelUrl}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"notify_url\",value:notifyUrl}),/*#__PURE__*/_jsx(\"button\",{onClick:onCreateOrder,type:\"button\",className:\"btn request_btn\",children:\"Pay Now\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onOpenPromoCode,type:\"button\",className:\"btn rpromo_btn\",children:\"Promo Code\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancelOrder,type:\"button\",className:\"btn cancel_btn\",children:\"Cancel\"})]})})})]})})})}),/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"sources":["/Users/lasimonne/Projects/syked.xyz copy/src/containers/Order/OrderPayment/OrderPayment.js"],"names":["React","useState","useRef","useSelector","axios","selectIsAuthenticated","Link","FontAwesomeIcon","faMapMarker","faVideo","faMale","faClock","faFemale","faCalendar","Header","Footer","ROUTES","OrderPayment","showPromo","setShowPromo","isAuthenticated","returnUrl","cancelUrl","notifyUrl","payfastForm","onPayOrder","payload","therapist_id","schedule_date","therapy_type","question_answer","score","price","total_amount","timeoffset","promo_code","discount_promo_code","group_code_applied","referral_discount_amount","referral_code","is_my_code","bodyFormData","FormData","append","method","url","data","headers","then","response","console","log","catch","onOpenPromoCode","onClosePromoCode","onApplyPromo","onCancelOrder","onCreateOrder","current","submit","THERAPIST_LIST_PAGE"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport axios from 'axios';\n// import { Form, Field } from 'react-final-form';\nimport { selectIsAuthenticated } from 'containers/Auth/authSlice';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faMapMarker,\n  faVideo,\n  faMale,\n  faClock,\n  faFemale,\n  faCalendar,\n} from '@fortawesome/free-solid-svg-icons';\nimport Header from 'components/Header';\nimport Footer from 'components/Footer';\nimport * as ROUTES from 'common/constants';\n\nimport './Order.scss';\n\nexport default function OrderPayment() {\n  const [showPromo, setShowPromo] = useState(false);\n  const isAuthenticated = useSelector(selectIsAuthenticated);\n\n  const returnUrl = `http://192.168.43.161:4200/order/success/1234`;\n  const cancelUrl = `http://192.168.43.161:4200/order/cancel/1234`;\n  const notifyUrl = `http://192.168.43.161:4200/order/notify/1234`;\n\n  const payfastForm = useRef(null);\n\n  // eslint-disable-next-line no-unused-vars\n  const onPayOrder = () => {\n    // createOrder\n    // API: /order/create\n    // Payload\n\n    // eslint-disable-next-line no-unused-vars\n    const payload = {\n      therapist_id: 189,\n      schedule_date: '2021-10-21T16:00:00.000Z',\n      therapy_type: 'clinical_psychologist',\n      question_answer:\n        '[{\"id\":31,\"question\":\"Worry that things always go wrong in your life\",\"answer\":\"Most of the time\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":35,\"question\":\"Having little or no interest doing things I am used to doing\",\"answer\":\" ALL THE TIME\",\"options\":\"\",\"score\":\"3\",\"question_type\":\"radio\"},{\"id\":38,\"question\":\"Feeling sad, depressed, or worthless\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":43,\"question\":\"Unable to relax even when you are not doing anything\",\"answer\":\" ALL THE TIME\",\"options\":\"\",\"score\":\"3\",\"question_type\":\"radio\"},{\"id\":47,\"question\":\"Feeling exhausted or having little or no energy\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":51,\"question\":\"Worry about your safety\",\"answer\":\"SOMETIMES\",\"options\":\"\",\"score\":\"1\",\"question_type\":\"radio\"},{\"id\":55,\"question\":\"Struggling to fall asleep/ staying asleep/  or oversleeping\",\"answer\":\"SOMETIMES\",\"options\":\"\",\"score\":\"1\",\"question_type\":\"radio\"},{\"id\":59,\"question\":\"Extremely happy mood for no particular reason\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":63,\"question\":\"Thoughts that the world would be better off with you dead or thoughts of  hurting yourself in some way\",\"answer\":\"SOMETIMES\",\"options\":\"\",\"score\":\"1\",\"question_type\":\"radio\"},{\"id\":67,\"question\":\"Fear of being in public spaces\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":71,\"question\":\"No motivation when doing things and being slow than usual\",\"answer\":\"SOMETIMES\",\"options\":\"\",\"score\":\"1\",\"question_type\":\"radio\"},{\"id\":75,\"question\":\"When stressed struggling to breathe/experiencing dizziness/ headache/ rapid heartbeat/ sweating/ chest pain\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":79,\"question\":\"No desire to eat or eating more than normal  \",\"answer\":\"SOMETIMES\",\"options\":\"\",\"score\":\"1\",\"question_type\":\"radio\"},{\"id\":83,\"question\":\"Feeling that you are not good enough and are destined to experience bad things \",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":87,\"question\":\"Struggling to focus on tasks\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":91,\"question\":\"Being easily short-tempered and agitated\",\"answer\":\"SOMETIMES\",\"options\":\"\",\"score\":\"1\",\"question_type\":\"radio\"},{\"id\":94,\"question\":\"Excessive fear of dying\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":99,\"question\":\"Being forgetful about normal routine stuff\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":103,\"question\":\"Uncontrollable worry\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":107,\"question\":\"Wanting to always be alone and avoiding loved ones\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":111,\"question\":\"Constant thoughts/ flashbacks of an experienced/witnessed trauma\",\"answer\":\"SOMETIMES\",\"options\":\"\",\"score\":\"1\",\"question_type\":\"radio\"},{\"id\":114,\"question\":\"Avoiding reminders of the traumatic experience\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":119,\"question\":\"Use of substances more than usual\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":122,\"question\":\"Having excess energy and doing many things at once\",\"answer\":\" ALL THE TIME\",\"options\":\"\",\"score\":\"3\",\"question_type\":\"radio\"},{\"id\":127,\"question\":\"Engaging in reckless behavior e.g. more casual sexual relationships, irresponsible spending\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"},{\"id\":130,\"question\":\"Family members express worry about your emotional/ mental health\",\"answer\":\" MOST OF THE TIME\",\"options\":\"\",\"score\":\"2\",\"question_type\":\"radio\"}]',\n      score: 48,\n      price: 699,\n      total_amount: 699,\n      timeoffset: 120,\n      promo_code: '',\n      discount_promo_code: 0,\n      group_code_applied: false,\n      referral_discount_amount: 0,\n      referral_code: '',\n      is_my_code: '',\n    };\n\n    // if user has promo go to success else create order and redirect to payfast\n    const bodyFormData = new FormData();\n    bodyFormData.append('merchant_id', '10000100');\n    bodyFormData.append('merchant_key', '46f0cd694581a');\n    bodyFormData.append('amount', '100.00');\n    bodyFormData.append('item_name', 'Test Product');\n\n    axios({\n      method: 'post',\n      url: 'https://sandbox.payfast.co.za​/eng/process',\n      data: bodyFormData,\n      headers: { 'Content-Type': 'multipart/form-data' },\n    })\n      .then((response) => {\n        // handle success\n        // eslint-disable-next-line no-console\n        console.log(response);\n      })\n      .catch((response) => {\n        // handle error\n        // eslint-disable-next-line no-console\n        console.log(response);\n      });\n  };\n  const onOpenPromoCode = () => {\n    setShowPromo(true);\n  };\n  const onClosePromoCode = () => {\n    setShowPromo(false);\n  };\n  const onApplyPromo = () => {\n    // order/apply-promo\n  };\n  const onCancelOrder = () => {};\n\n  const onCreateOrder = () => {\n    payfastForm.current.submit();\n    // console.log();\n  };\n\n  return (\n    <>\n      <Header isAuthenticated={isAuthenticated} />\n      <section className=\"confirmation f7-gray\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-sm-12 col-md-12 col-lg-12\">\n              <div className=\"confirms_trust\">\n                <h3>TRUST & SAFETY GUARANTEE</h3>\n              </div>\n              <div className=\"text-center pb-4\">\n                <h2>Pay now to confirm your booking</h2>\n                <p>\n                  {`Thank you for trusting Syked to help you through this period, with us you'll be\n                  back to feeling Syked on life in no time`}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n      <section className=\"request f7-gray\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-12 col-md-12 col-lg-12\">\n              <div className=\"my_request p-3 mb-4\">\n                <div className=\"d-sm-flex pt-3\">\n                  <div className=\"pro-img\">\n                    <img src=\"assets/img/user.png\" alt=\"profile\" />\n                  </div>\n                  <div className=\"pt-3 pt-sm-0 pl-sm-4 w-100\">\n                    <div className=\"d-sm-flex align-items-center justify-content-between\">\n                      <div>\n                        <h5>Mohube Maswi</h5>\n                        <h6>\n                          <span>\n                            <b>Social Worker</b>\n                          </span>\n                        </h6>\n                      </div>\n                      <div className=\"location\">\n                        <h5>\n                          <FontAwesomeIcon icon={faMapMarker} />\n                        </h5>\n                      </div>\n                    </div>\n                    <p className=\"mb-3\">about_me</p>\n                    <h5 className=\"mb-3\">Appointment </h5>\n                    <div className=\"row m-0 justify-content-between align-items-center\">\n                      <p className=\"mb-0 pr-2\">\n                        <FontAwesomeIcon className=\"mr-2\" icon={faVideo} />\n                        <i className=\"fa fa-video-camera mr-2\"></i>\n                        <span>General</span>\n                      </p>\n                      <p className=\"mb-0 pr-2\" if=\"therapy_type == 'teen_counseling'\">\n                        <FontAwesomeIcon className=\"mr-2\" icon={faMale} />\n                        <span> Students</span>\n                      </p>\n                      <p\n                        if=\"therapy_type == 'online_therapy'\"\n                        className=\"mb-0 pr-2 therapist_type_img\">\n                        <FontAwesomeIcon className=\"mr-2\" icon={faMale} />\n                        <span>Individuals</span>\n                      </p>\n                      <p\n                        if=\"therapy_type == 'marriage_counseling'\"\n                        className=\"mb-0 pr-2 therapist_type_img\">\n                        <FontAwesomeIcon icon={faMale} />\n                        <FontAwesomeIcon icon={faFemale} />\n                        <span>Couples</span>\n                      </p>\n                      <p className=\"mb-0 pr-2\">\n                        <FontAwesomeIcon className=\"mr-2\" icon={faCalendar} />\n                        <span>schedule_time</span>\n                      </p>\n                      <p className=\"mb-0 pr-2\">\n                        <FontAwesomeIcon className=\"mr-2\" icon={faClock} />\n                        <span>schedule_time</span>\n                      </p>\n                      <p className=\"mb-0\">\n                        <span if=\"is_group_code_applied == false\">\n                          <b>R</b> 600\n                        </span>\n                      </p>\n                      <div>\n                        <Link\n                          to={ROUTES.THERAPIST_LIST_PAGE}\n                          type=\"button\"\n                          className=\"p-0 btn btn-edit\">\n                          Edit\n                        </Link>\n                      </div>\n                    </div>\n                    {showPromo ? (\n                      <div className=\"mt-2 mb-0 promo_form\">\n                        <div if=\"show_promo_code == 'yes'\" className=\"mt-2\">\n                          <form className=\" ng-pristine ng-valid d-md-flex\">\n                            <div className=\"form-group mb-0\">\n                              <input\n                                type=\"text\"\n                                className=\"form-control\"\n                                required\n                                placeholder=\"Enter Promo Code\"\n                                name=\"promo_code\"\n                              />\n                              <div>\n                                <p\n                                  if=\"promoForm.submitted && PromoCode.errors\"\n                                  className=\"mb-2 text-danger\">\n                                  <span>Promo Code is required.</span>\n                                </p>\n                              </div>\n                            </div>\n                            <div className=\"mt-2 mt-md-0\">\n                              <button\n                                onClick={onApplyPromo}\n                                type=\"submit\"\n                                className=\"btn btn-theme\">\n                                Apply\n                              </button>\n                              <button\n                                onClick={onClosePromoCode}\n                                type=\"button\"\n                                className=\"cancel_btn btn\">\n                                Cancel\n                              </button>\n                            </div>\n                          </form>\n                        </div>\n                        <p if=\"show_promo_message == 'yes'\" className=\"text-success\">\n                          promo_message\n                        </p>\n                      </div>\n                    ) : null}\n                  </div>\n                </div>\n              </div>\n              <div className=\"payment\">\n                <div className=\"mt-4 mb-4\">\n                  <form\n                    ref={payfastForm}\n                    action=\"https://sandbox.payfast.co.za​/eng/process\"\n                    method=\"post\">\n                    <input type=\"hidden\" name=\"merchant_id\" value=\"10000100\" />\n                    <input type=\"hidden\" name=\"merchant_key\" value=\"46f0cd694581a\" />\n                    <input type=\"hidden\" name=\"amount\" value=\"100.00\" />\n                    <input type=\"hidden\" name=\"item_name\" value=\"Test Product\" />\n                    <input type=\"hidden\" name=\"return_url\" value={returnUrl} />\n                    <input type=\"hidden\" name=\"cancel_url\" value={cancelUrl} />\n                    <input type=\"hidden\" name=\"notify_url\" value={notifyUrl} />\n                    <button onClick={onCreateOrder} type=\"button\" className=\"btn request_btn\">\n                      Pay Now\n                    </button>\n                    {/* <button type=\"button\" className=\"btn request_btn\">\n                      Book Now\n                    </button> */}\n                    <button onClick={onOpenPromoCode} type=\"button\" className=\"btn rpromo_btn\">\n                      Promo Code\n                    </button>\n                    <button onClick={onCancelOrder} type=\"button\" className=\"btn cancel_btn\">\n                      Cancel\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n      <Footer />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}