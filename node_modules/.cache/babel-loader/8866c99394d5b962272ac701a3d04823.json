{"ast":null,"code":"import _objectSpread from\"/Users/lasimonne/Projects/syked.xyz copy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/Users/lasimonne/Projects/syked.xyz copy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _toArray from\"/Users/lasimonne/Projects/syked.xyz copy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toArray\";import _toConsumableArray from\"/Users/lasimonne/Projects/syked.xyz copy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";var _excluded=[\"input\",\"meta\"],_excluded2=[\"input\",\"meta\"],_excluded3=[\"input\",\"meta\"],_excluded4=[\"input\",\"meta\"],_excluded5=[\"input\",\"meta\"],_excluded6=[\"input\",\"meta\"];import React,{useEffect}from'react';import{connect,useSelector}from'react-redux';import{compose}from'redux';import{useParams,useHistory}from'react-router-dom';import{Form,Field}from'react-final-form';import FormStateToRedux from'common/util/FormStateToRedux';import Header from'components/Header';import Footer from'components/Footer';import*as CONSTANTS from'common/constants';import{selectError,loadDisclaimerScreen,isLoadingMobileVerify,mobileVerify as mobileVerifyAction,resetError as resetErrorAction}from'containers/Auth/authSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MobileVerification(_ref){var resetError=_ref.resetError,mobileVerify=_ref.mobileVerify;var error=useSelector(selectError);var loading=useSelector(isLoadingMobileVerify);var isLoadDisclaimerScreen=useSelector(loadDisclaimerScreen);var _useParams=useParams(),email=_useParams.email;var history=useHistory();useEffect(function(){resetError();},[resetError]);useEffect(function(){if(isLoadDisclaimerScreen){history.push(CONSTANTS.DISCLAIMER_PAGE);}},[isLoadDisclaimerScreen]);useEffect(function(){var inputElements=_toConsumableArray(document.querySelectorAll('input.code-input'));inputElements.forEach(function(ele,index){ele.addEventListener('keydown',function(e){if(e.keyCode===8&&e.target.value==='')inputElements[Math.max(0,index-1)].focus();});ele.addEventListener('input',function(e){var _e$target$value=_toArray(e.target.value),first=_e$target$value[0],rest=_e$target$value.slice(1);// e.target.value = first ?? '';\nif(index!==inputElements.length-1&&first!==undefined){inputElements[index+1].focus();inputElements[index+1].value=rest.join('');inputElements[index+1].dispatchEvent(new Event('input'));}});});},[]);var onSubmit=function onSubmit(values){var code=Object.keys(values).map(function(key){return values[key];}).join('');mobileVerify({email:decodeURIComponent(email),code:code});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loader\",children:/*#__PURE__*/_jsx(\"img\",{src:\"assets/img/loader.svg\",alt:\"loader\"})}):null,/*#__PURE__*/_jsxs(\"section\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row pt-4 align-items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsx(Form,{onSubmit:onSubmit,subscription:{values:true,submitting:true,pristine:true},validate:function validate(values){var errors={};if(!values.num1){errors.num1='Code is required';}if(!values.num2){errors.num2='Code is required';}if(!values.num3){errors.num3='Code is required';}if(!values.num4){errors.num4='Code is required';}if(!values.num5){errors.num5='Code is required';}if(!values.num6){errors.num6='Code is required';}return errors;},render:function render(_ref2){var handleSubmit=_ref2.handleSubmit,form=_ref2.form,submitting=_ref2.submitting,pristine=_ref2.pristine;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(FormStateToRedux,{form:\"MOBILE_VERIFICATION_FORM\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4\",children:\"Mobile Verification\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"otp_inputs\",children:[/*#__PURE__*/_jsx(Field,{pattern:\"^(0|[1-9][0-9]*)$\",name:\"num1\",type:\"text\",component:\"input\",maxLength:\"1\",minLength:\"1\",className:\"code-input form-control mr-2\",placeholder:\"*\",children:function children(_ref3){var input=_ref3.input,_ref3$meta=_ref3.meta,e=_ref3$meta.error,touched=_ref3$meta.touched,rest=_objectWithoutProperties(_ref3,_excluded);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},input),rest)),e&&touched&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:e})]});}}),/*#__PURE__*/_jsx(Field,{name:\"num2\",pattern:\"^(0|[1-9][0-9]*)$\",type:\"text\",component:\"input\",maxLength:\"1\",minLength:\"1\",className:\"code-input form-control mr-2\",placeholder:\"*\",children:function children(_ref4){var input=_ref4.input,_ref4$meta=_ref4.meta,e=_ref4$meta.error,touched=_ref4$meta.touched,rest=_objectWithoutProperties(_ref4,_excluded2);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},input),rest)),e&&touched&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:e})]});}}),/*#__PURE__*/_jsx(Field,{name:\"num3\",pattern:\"^(0|[1-9][0-9]*)$\",type:\"text\",component:\"input\",maxLength:\"1\",minLength:\"1\",className:\"code-input form-control mr-2\",placeholder:\"*\",children:function children(_ref5){var input=_ref5.input,_ref5$meta=_ref5.meta,e=_ref5$meta.error,touched=_ref5$meta.touched,rest=_objectWithoutProperties(_ref5,_excluded3);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},input),rest)),e&&touched&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:e})]});}}),/*#__PURE__*/_jsx(Field,{name:\"num4\",pattern:\"^(0|[1-9][0-9]*)$\",type:\"text\",component:\"input\",maxLength:\"1\",minLength:\"1\",className:\"code-input form-control mr-2\",placeholder:\"*\",children:function children(_ref6){var input=_ref6.input,_ref6$meta=_ref6.meta,e=_ref6$meta.error,touched=_ref6$meta.touched,rest=_objectWithoutProperties(_ref6,_excluded4);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},input),rest)),e&&touched&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:e})]});}}),/*#__PURE__*/_jsx(Field,{name:\"num5\",pattern:\"^(0|[1-9][0-9]*)$\",type:\"text\",component:\"input\",maxLength:\"1\",minLength:\"1\",className:\"code-input form-control mr-2\",placeholder:\"*\",children:function children(_ref7){var input=_ref7.input,_ref7$meta=_ref7.meta,e=_ref7$meta.error,touched=_ref7$meta.touched,rest=_objectWithoutProperties(_ref7,_excluded5);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},input),rest)),e&&touched&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:e})]});}}),/*#__PURE__*/_jsx(Field,{name:\"num6\",pattern:\"^(0|[1-9][0-9]*)$\",type:\"text\",component:\"input\",maxLength:\"1\",minLength:\"1\",className:\"code-input form-control mr-2\",placeholder:\"*\",children:function children(_ref8){var input=_ref8.input,_ref8$meta=_ref8.meta,e=_ref8$meta.error,touched=_ref8$meta.touched,rest=_objectWithoutProperties(_ref8,_excluded6);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},input),rest)),e&&touched&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:e})]});}})]}),/*#__PURE__*/_jsx(\"br\",{}),error?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:/*#__PURE__*/_jsx(\"span\",{children:error})}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-0 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-theme\",disabled:submitting||pristine,children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 text-center mt-3\",children:/*#__PURE__*/_jsxs(\"a\",{disabled:true,href:\"#0\",className:\"link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-repeat\"}),\" Resend Code\"]})})]})]});}})})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"login_right\",children:/*#__PURE__*/_jsx(\"img\",{src:\"assets/img/sing_up.png\",alt:\"Verification\"})})]}),/*#__PURE__*/_jsx(Footer,{})]});}var mapDispatchToProps=function mapDispatchToProps(dispatch){return{resetError:function resetError(){return dispatch(resetErrorAction());},mobileVerify:function mobileVerify(values){return dispatch(mobileVerifyAction(values));}};};var withConnect=connect(null,mapDispatchToProps);export default compose(withConnect)(MobileVerification);","map":{"version":3,"sources":["/Users/lasimonne/Projects/syked.xyz copy/src/containers/Auth/MobileVerification/MobileVerification.js"],"names":["React","useEffect","connect","useSelector","compose","useParams","useHistory","Form","Field","FormStateToRedux","Header","Footer","CONSTANTS","selectError","loadDisclaimerScreen","isLoadingMobileVerify","mobileVerify","mobileVerifyAction","resetError","resetErrorAction","MobileVerification","error","loading","isLoadDisclaimerScreen","email","history","push","DISCLAIMER_PAGE","inputElements","document","querySelectorAll","forEach","ele","index","addEventListener","e","keyCode","target","value","Math","max","focus","first","rest","length","undefined","join","dispatchEvent","Event","onSubmit","values","code","Object","keys","map","key","decodeURIComponent","submitting","pristine","errors","num1","num2","num3","num4","num5","num6","handleSubmit","form","input","meta","touched","mapDispatchToProps","dispatch","withConnect"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\n\nimport PropTypes from 'prop-types';\nimport { connect, useSelector } from 'react-redux';\nimport { compose } from 'redux';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { Form, Field } from 'react-final-form';\nimport FormStateToRedux from 'common/util/FormStateToRedux';\nimport Header from 'components/Header';\nimport Footer from 'components/Footer';\nimport * as CONSTANTS from 'common/constants';\n\nimport {\n  selectError,\n  loadDisclaimerScreen,\n  isLoadingMobileVerify,\n  mobileVerify as mobileVerifyAction,\n  resetError as resetErrorAction,\n} from 'containers/Auth/authSlice';\n\nfunction MobileVerification({ resetError, mobileVerify }) {\n  const error = useSelector(selectError);\n  const loading = useSelector(isLoadingMobileVerify);\n  const isLoadDisclaimerScreen = useSelector(loadDisclaimerScreen);\n  const { email } = useParams();\n  const history = useHistory();\n\n  useEffect(() => {\n    resetError();\n  }, [resetError]);\n\n  useEffect(() => {\n    if (isLoadDisclaimerScreen) {\n      history.push(CONSTANTS.DISCLAIMER_PAGE);\n    }\n  }, [isLoadDisclaimerScreen]);\n\n  useEffect(() => {\n    const inputElements = [...document.querySelectorAll('input.code-input')];\n\n    inputElements.forEach((ele, index) => {\n      ele.addEventListener('keydown', (e) => {\n        if (e.keyCode === 8 && e.target.value === '') inputElements[Math.max(0, index - 1)].focus();\n      });\n      ele.addEventListener('input', (e) => {\n        const [first, ...rest] = e.target.value;\n        // e.target.value = first ?? '';\n        if (index !== inputElements.length - 1 && first !== undefined) {\n          inputElements[index + 1].focus();\n          inputElements[index + 1].value = rest.join('');\n          inputElements[index + 1].dispatchEvent(new Event('input'));\n        }\n      });\n    });\n  }, []);\n\n  const onSubmit = (values) => {\n    const code = Object.keys(values)\n      .map((key) => values[key])\n      .join('');\n    mobileVerify({ email: decodeURIComponent(email), code });\n  };\n\n  return (\n    <>\n      <Header />\n\n      {loading ? (\n        <div className=\"loader\">\n          <img src=\"assets/img/loader.svg\" alt=\"loader\" />\n        </div>\n      ) : null}\n      <section className=\"login\">\n        <div className=\"container\">\n          <div className=\"row pt-4 align-items-center\">\n            <div className=\"col-md-12\">\n              <div className=\"form\">\n                <Form\n                  onSubmit={onSubmit}\n                  subscription={{ values: true, submitting: true, pristine: true }}\n                  validate={(values) => {\n                    const errors = {};\n                    if (!values.num1) {\n                      errors.num1 = 'Code is required';\n                    }\n                    if (!values.num2) {\n                      errors.num2 = 'Code is required';\n                    }\n                    if (!values.num3) {\n                      errors.num3 = 'Code is required';\n                    }\n                    if (!values.num4) {\n                      errors.num4 = 'Code is required';\n                    }\n                    if (!values.num5) {\n                      errors.num5 = 'Code is required';\n                    }\n                    if (!values.num6) {\n                      errors.num6 = 'Code is required';\n                    }\n                    return errors;\n                  }}\n                  render={({ handleSubmit, form, submitting, pristine }) => (\n                    <form onSubmit={handleSubmit} autoComplete=\"off\">\n                      <FormStateToRedux form=\"MOBILE_VERIFICATION_FORM\" />\n                      <h2 className=\"mb-4\">Mobile Verification</h2>\n                      <div className=\"form-group\">\n                        <div className=\"otp_inputs\">\n                          <Field\n                            pattern=\"^(0|[1-9][0-9]*)$\"\n                            name=\"num1\"\n                            type=\"text\"\n                            component=\"input\"\n                            maxLength=\"1\"\n                            minLength=\"1\"\n                            className=\"code-input form-control mr-2\"\n                            placeholder=\"*\">\n                            {({ input, meta: { error: e, touched }, ...rest }) => (\n                              <>\n                                <input {...input} {...rest} />\n                                {e && touched && <p className=\"text-danger\">{e}</p>}\n                              </>\n                            )}\n                          </Field>\n                          <Field\n                            name=\"num2\"\n                            pattern=\"^(0|[1-9][0-9]*)$\"\n                            type=\"text\"\n                            component=\"input\"\n                            maxLength=\"1\"\n                            minLength=\"1\"\n                            className=\"code-input form-control mr-2\"\n                            placeholder=\"*\">\n                            {({ input, meta: { error: e, touched }, ...rest }) => (\n                              <>\n                                <input {...input} {...rest} />\n                                {e && touched && <p className=\"text-danger\">{e}</p>}\n                              </>\n                            )}\n                          </Field>\n                          <Field\n                            name=\"num3\"\n                            pattern=\"^(0|[1-9][0-9]*)$\"\n                            type=\"text\"\n                            component=\"input\"\n                            maxLength=\"1\"\n                            minLength=\"1\"\n                            className=\"code-input form-control mr-2\"\n                            placeholder=\"*\">\n                            {({ input, meta: { error: e, touched }, ...rest }) => (\n                              <>\n                                <input {...input} {...rest} />\n                                {e && touched && <p className=\"text-danger\">{e}</p>}\n                              </>\n                            )}\n                          </Field>\n                          <Field\n                            name=\"num4\"\n                            pattern=\"^(0|[1-9][0-9]*)$\"\n                            type=\"text\"\n                            component=\"input\"\n                            maxLength=\"1\"\n                            minLength=\"1\"\n                            className=\"code-input form-control mr-2\"\n                            placeholder=\"*\">\n                            {({ input, meta: { error: e, touched }, ...rest }) => (\n                              <>\n                                <input {...input} {...rest} />\n                                {e && touched && <p className=\"text-danger\">{e}</p>}\n                              </>\n                            )}\n                          </Field>\n                          <Field\n                            name=\"num5\"\n                            pattern=\"^(0|[1-9][0-9]*)$\"\n                            type=\"text\"\n                            component=\"input\"\n                            maxLength=\"1\"\n                            minLength=\"1\"\n                            className=\"code-input form-control mr-2\"\n                            placeholder=\"*\">\n                            {({ input, meta: { error: e, touched }, ...rest }) => (\n                              <>\n                                <input {...input} {...rest} />\n                                {e && touched && <p className=\"text-danger\">{e}</p>}\n                              </>\n                            )}\n                          </Field>\n                          <Field\n                            name=\"num6\"\n                            pattern=\"^(0|[1-9][0-9]*)$\"\n                            type=\"text\"\n                            component=\"input\"\n                            maxLength=\"1\"\n                            minLength=\"1\"\n                            className=\"code-input form-control mr-2\"\n                            placeholder=\"*\">\n                            {({ input, meta: { error: e, touched }, ...rest }) => (\n                              <>\n                                <input {...input} {...rest} />\n                                {e && touched && <p className=\"text-danger\">{e}</p>}\n                              </>\n                            )}\n                          </Field>\n                        </div>\n                        <br />\n                        {error ? (\n                          <p className=\"text-danger\">\n                            <span>{error}</span>\n                          </p>\n                        ) : null}\n                      </div>\n                      <div className=\"mb-0 mt-4\">\n                        <button\n                          type=\"submit\"\n                          className=\"btn btn-theme\"\n                          disabled={submitting || pristine}>\n                          Sign Up\n                        </button>\n                        <p className=\"mb-0 text-center mt-3\">\n                          <a disabled href=\"#0\" className=\"link\">\n                            <i className=\"fa fa-repeat\"></i> Resend Code\n                          </a>\n                        </p>\n                      </div>\n                    </form>\n                  )}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"login_right\">\n          <img src=\"assets/img/sing_up.png\" alt=\"Verification\" />\n        </div>\n      </section>\n      <Footer />\n    </>\n  );\n}\n\nMobileVerification.propTypes = {\n  resetError: PropTypes.func,\n  mobileVerify: PropTypes.func,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  resetError: () => dispatch(resetErrorAction()),\n  mobileVerify: (values) => dispatch(mobileVerifyAction(values)),\n});\n\nconst withConnect = connect(null, mapDispatchToProps);\n\nexport default compose(withConnect)(MobileVerification);\n"]},"metadata":{},"sourceType":"module"}